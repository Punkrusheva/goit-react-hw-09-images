(this["webpackJsonpgoit-react-hw-09-images"]=this["webpackJsonpgoit-react-hw-09-images"]||[]).push([[0],{12:function(e,t,a){e.exports={overlay:"Modal_overlay__1FrEX",content:"Modal_content__3zfgL"}},13:function(e,t,a){e.exports={item:"ImageGalleryItem_item__1kmEh",image:"ImageGalleryItem_image__1gCRB"}},26:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1Oe8g"}},27:function(e,t,a){e.exports={button:"Button_button__2pNTu"}},29:function(e,t,a){e.exports={loader:"Loader_loader__2Cr1L"}},6:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2zZpz",searchForm:"Searchbar_searchForm__2nG4x",button:"Searchbar_button__30jDx",buttonLabel:"Searchbar_buttonLabel__HCbnY",input:"Searchbar_input__3Yka0"}},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(4),r=a.n(o),i=a(14),l=a(5),s=a(11),u=a.n(s),b=a(6),h=a.n(b),j=a(31),m=a(9),d=(a(56),a(1));function p(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],r=c[1];return Object(d.jsx)("header",{className:h.a.searchbar,children:Object(d.jsxs)("form",{className:h.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==o?(t(o),r("")):m.b.error("Empty request")},children:[Object(d.jsx)("button",{type:"submit",className:h.a.button,children:Object(d.jsx)("span",{className:h.a.label,"aria-label":"Search",children:Object(d.jsx)(j.a,{})})}),Object(d.jsx)("input",{type:"text",name:"searchbar",autoComplete:"off",autoFocus:!0,onChange:function(e){return r(e.currentTarget.value.trim())},value:o,className:h.a.input,placeholder:"Search images and photos"})]})})}var f=a(24),g=a(25),O=a(32),_=a(30),x=a(12),y=a.n(x),v=document.querySelector("#modal-root"),k=function(e){Object(O.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(d.jsx)("div",{className:y.a.overlay,onClick:this.handleBackdropClick,children:Object(d.jsx)("div",{className:y.a.content,children:this.props.children})}),v)}}]),a}(n.Component),C=a(26),w=a.n(C),S=a(13),L=a.n(S);function N(e){var t=e.photo,a=e.onClick;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("li",{className:L.a.item,onClick:a,children:Object(d.jsx)("img",{className:L.a.image,src:t.webformatURL,"data-source":t.largeImageURL,alt:t.tags})})})}N.defaultProps={largeImageURL:"",webformatURL:"",tags:"",id:""};var E=N;function I(e){var t=e.photos,a=e.onClick;return Object(d.jsx)("ul",{className:w.a.imageGallery,children:t.map((function(e){return Object(d.jsx)(E,{onClick:function(){return a(e)},photo:e},e.id)}))})}I.defaultProps={photos:[],children:""};var R=I,D=a(15),U=a(33),F=a(27),G=a.n(F),T=function(e){var t=e.children,a=e.onClick,n=Object(U.a)(e,["children","onClick"]);return Object(d.jsxs)("button",Object(D.a)(Object(D.a)({type:"button",className:G.a.button,onClick:a},n),{},{children:["Load more",t]}))};T.defaultProps={onClick:function(){return null},children:null};var z=T,B=a(28),q=a.n(B),M=a(29),P=a.n(M);var K=function(){return Object(d.jsx)(q.a,{className:P.a.loader,type:"ThreeDots",color:"#3f51b5",height:45,width:45,timeout:6e3})};a(79),a(80);function H(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(l.a)(o,2),s=r[0],b=r[1],h=Object(n.useState)(null),j=Object(l.a)(h,2),f=j[0],g=j[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),x=_[0],y=_[1],v=Object(n.useState)(1),C=Object(l.a)(v,2),w=C[0],S=C[1],L=Object(n.useState)(!1),N=Object(l.a)(L,2),E=N[0],I=(N[1],Object(n.useState)("")),D=Object(l.a)(I,2),U=D[0],F=D[1],G=Object(n.useRef)("19150755-18ebc4fb910ab3d1add5e1d5a"),T=Object(n.useRef)("https://pixabay.com/api/");Object(n.useEffect)((function(){y(!0),c([]),u.a.get("".concat(T.current,"?q=").concat(s,"&page=1&key=").concat(G.current,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits})).then(c).catch((function(e){return g(e)})).finally((function(){return y(!1)}))}),[s]),Object(n.useEffect)((function(){y(!0),u.a.get("".concat(T.current,"?q=").concat(s,"&page=").concat(w,"&key=").concat(G.current,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.data.hits))}))})).catch((function(e){return g(e)})).finally((function(){y(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}),[w]);var B=function(e){console.log("largeImageURL",e.largeImageURL),console.log("tags",e.tags),F(e)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p,{onSubmit:function(e){var t=e.toLowerCase().trim();b(t)}}),f&&Object(d.jsx)("h1",{children:"Error, try again later"}),E&&Object(d.jsx)(k,{onClose:B,children:Object(d.jsx)("img",{src:U.largeImageURL,alt:U.tags})}),a.length>0?Object(d.jsx)(R,{photos:a,onClick:B}):null,x&&Object(d.jsx)(K,{type:"ThreeDots",color:"#3f51b5",height:45,width:45,timeout:6e3}),a.length>=11?Object(d.jsx)(z,{"aria-label":"Load more",onClick:function(e){e.preventDefault(),S(w+1)}}):null,Object(d.jsx)(m.a,{autoClose:2e3})]})}r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(H,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.eda5c455.chunk.js.map