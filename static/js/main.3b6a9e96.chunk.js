(this["webpackJsonpgoit-react-hw-09-image-finder"]=this["webpackJsonpgoit-react-hw-09-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={item:"ImageGalleryItem_item__1kmEh",image:"ImageGalleryItem_image__1gCRB"}},23:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1Oe8g"}},24:function(e,t,a){e.exports={button:"Button_button__2pNTu"}},26:function(e,t,a){e.exports={loader:"Loader_loader__2Cr1L"}},6:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2zZpz",searchForm:"Searchbar_searchForm__2nG4x",button:"Searchbar_button__30jDx",buttonLabel:"Searchbar_buttonLabel__HCbnY",input:"Searchbar_input__3Yka0"}},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),l=a(5),i=a(20),s=a.n(i),u=a(6),b=a.n(u),j=a(28),h=a(7),m=(a(53),a(1));function d(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],o=r[1];return Object(m.jsx)("header",{className:b.a.searchbar,children:Object(m.jsxs)("form",{className:b.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==c?(t(c),o("")):h.b.error("Empty request")},children:[Object(m.jsx)("button",{type:"submit",className:b.a.button,children:Object(m.jsx)("span",{className:b.a.label,"aria-label":"Search",children:Object(m.jsx)(j.a,{})})}),Object(m.jsx)("input",{type:"text",name:"searchbar",autoComplete:"off",autoFocus:!0,onChange:function(e){return o(e.currentTarget.value.trim())},value:c,className:b.a.input,placeholder:"Search images and photos"})]})})}var p=a(21),f=a(22),O=a(29),g=a(27),_=a(9),x=a.n(_),y=document.querySelector("#modal-root"),v=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(m.jsx)("div",{className:x.a.overlay,onClick:this.handleBackdropClick,children:Object(m.jsx)("div",{className:x.a.content,children:this.props.children})}),y)}}]),a}(n.Component),k=a(23),C=a.n(k),S=a(10),w=a.n(S);function L(e){var t=e.photo,a=e.onClick;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("li",{className:w.a.item,onClick:a,children:Object(m.jsx)("img",{className:w.a.image,src:t.webformatURL,"data-source":t.largeImageURL,alt:t.tags})})})}L.defaultProps={largeImageURL:"",webformatURL:"",tags:"",id:""};var N=L;function I(e){var t=e.photos,a=e.onClick;return Object(m.jsx)("ul",{className:C.a.imageGallery,children:t.map((function(e){return Object(m.jsx)(N,{onClick:function(){return a(e)},photo:e},e.id)}))})}I.defaultProps={photos:[],children:""};var R=I,D=a(11),E=a(30),U=a(24),F=a.n(U),G=function(e){var t=e.children,a=e.onClick,n=Object(E.a)(e,["children","onClick"]);return Object(m.jsxs)("button",Object(D.a)(Object(D.a)({type:"button",className:F.a.button,onClick:a},n),{},{children:["Load more",t]}))};G.defaultProps={onClick:function(){return null},children:null};var B=G,T=a(25),z=a.n(T),M=a(26),P=a.n(M);var q=function(){return Object(m.jsx)(z.a,{className:P.a.loader,type:"ThreeDots",color:"#3f51b5",height:45,width:45,timeout:6e3})};a(76),a(77);function K(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(l.a)(c,2),i=o[0],u=o[1],b=Object(n.useState)(null),j=Object(l.a)(b,2),p=j[0],f=j[1],O=Object(n.useState)(!1),g=Object(l.a)(O,2),_=g[0],x=g[1],y=Object(n.useState)(1),k=Object(l.a)(y,2),C=k[0],S=k[1],w=Object(n.useState)(!1),L=Object(l.a)(w,2),N=L[0],I=(L[1],Object(n.useState)("")),D=Object(l.a)(I,2),E=D[0],U=D[1],F=Object(n.useRef)("19150755-18ebc4fb910ab3d1add5e1d5a"),G=Object(n.useRef)("https://pixabay.com/api/");Object(n.useEffect)((function(){x(!0),s.a.get("".concat(G.current,"?q=").concat(i,"&page=").concat(C,"&key=").concat(F.current,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits})).then(r).catch((function(e){return f(e)})).finally((function(){return x(!0)}))}),[i,C]);var T=function(e){console.log("largeImageURL",e.largeImageURL),console.log("tags",e.tags),U(e)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d,{onSubmit:function(e){var t=e.toLowerCase().trim();u(t)}}),p&&Object(m.jsx)("h1",{children:"Error, try again later"}),N&&Object(m.jsx)(v,{onClose:T,children:Object(m.jsx)("img",{src:E.largeImageURL,alt:E.tags})}),a.length>0?Object(m.jsx)(R,{photos:a,onClick:T}):null,_&&Object(m.jsx)(q,{type:"ThreeDots",color:"#3f51b5",height:45,width:45,timeout:6e3}),a.length>=11?Object(m.jsx)(B,{"aria-label":"Load more",onClick:function(e){e.preventDefault(),S(C+1)}}):null,Object(m.jsx)(h.a,{autoClose:2e3})]})}o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(K,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={overlay:"Modal_overlay__1FrEX",content:"Modal_content__3zfgL"}}},[[78,1,2]]]);
//# sourceMappingURL=main.3b6a9e96.chunk.js.map