{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","styles","searchbar","searchForm","e","preventDefault","toast","error","type","button","label","aria-label","name","autoComplete","autoFocus","onChange","currentTarget","value","trim","input","placeholder","modalRoot","document","querySelector","Modal","children","onClose","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","overlay","onClick","evt","target","content","ImageGalleryItem","photo","item","image","src","webformatURL","data-source","largeImageURL","alt","tags","defaultProps","id","ImageGallery","photos","imageGallery","map","Button","allyProps","Load","loader","color","height","width","timeout","App","setPhotos","setError","loading","setLoading","page","setPage","showModal","setShowModal","largePhoto","setLargePhoto","KEY","useRef","URL","axios","get","current","then","response","data","hits","catch","finally","prevPhotos","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","useCallback","prevShowModal","normalizedSearchQuery","toLowerCase","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bb413e2b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1FrEX\",\"content\":\"Modal_content__3zfgL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__1kmEh\",\"image\":\"ImageGalleryItem_image__1gCRB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1Oe8g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2pNTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2Cr1L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2zZpz\",\"searchForm\":\"Searchbar_searchForm__2nG4x\",\"button\":\"Searchbar_button__30jDx\",\"buttonLabel\":\"Searchbar_buttonLabel__HCbnY\",\"input\":\"Searchbar_input__3Yka0\"};","import React, { useState } from 'react';\r\nimport styles from './Searchbar.module.css';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function Searchbar({onSubmit}) {\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n\r\n    const handleSearchChange = e => setSearchQuery(e.currentTarget.value.trim());\r\n    \r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        \r\n        if (searchQuery === '') {\r\n            toast.error('Empty request');\r\n            return;\r\n        }\r\n        onSubmit(searchQuery);\r\n        setSearchQuery('');\r\n    };\r\n\r\n    return (\r\n            <header className={styles.searchbar}>\r\n            <form className={styles.searchForm}\r\n            onSubmit={handleSubmit}\r\n            >\r\n                    <button type=\"submit\" className={styles.button}>\r\n                        <span className={styles.label} aria-label='Search'><ImSearch />\r\n                         </span>\r\n                    </button>\r\n\r\n                    <input\r\n                        type='text'\r\n                        name='searchbar'\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        onChange={handleSearchChange}\r\n                        value={searchQuery}\r\n                        className={styles.input}\r\n                        placeholder='Search images and photos'\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n}","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ children, onClose }) {\r\n  useEffect(() => {\r\n    const handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n      window.addEventListener('keydown', handleKeyDown);\r\n      \r\n    return () => { window.removeEventListener('keydown', handleKeyDown); }\r\n    }, [onClose]\r\n  );\r\n  \r\n  const handleBackdropClick = evt => {\r\n    if (evt.currentTarget === evt.target) {\r\n      onClose();\r\n    }\r\n  };\r\n    \r\n  return createPortal(\r\n        <div className={styles.overlay} onClick={handleBackdropClick}>\r\n          <div className={styles.content}>{children}</div>\r\n      </div>,\r\n      modalRoot\r\n   );\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ photo, onClick }) {\r\n    return (\r\n    <>\r\n      <li className={styles.item}\r\n        onClick={onClick}>\r\n        <img className={styles.image}\r\n          src={photo.webformatURL}\r\n          data-source={photo.largeImageURL}\r\n          alt={photo.tags}/>\r\n        </li>\r\n        </>\r\n  )\r\n}\r\n\r\nImageGalleryItem.defaultProps = {\r\n  largeImageURL: '',\r\n  webformatURL: '',\r\n  tags: '',\r\n  id: ''\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string,\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  id: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nfunction ImageGallery({ photos, onClick } ) {\r\n    return (\r\n      <ul className={styles.imageGallery}>\r\n        {photos.map(( photo ) => (<ImageGalleryItem key={photo.id} onClick={() => onClick(photo)}\r\n          photo={photo}\r\n          ></ImageGalleryItem>))}\r\n      </ul> \r\n    )\r\n}\r\n        \r\nImageGallery.defaultProps = {\r\n  photos: [],\r\n  children: \"\",\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  photos: PropTypes.array,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ children, onClick, ...allyProps }) => (\r\n    <button type=\"button\" className={styles.button} onClick={onClick} {...allyProps}>\r\n    Load more{children}\r\n  </button>\r\n);\r\n\r\nButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n  'aria-label': PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from './Loader.module.css';\r\n\r\nfunction Load() {\r\n    return (\r\n        <Loader className={styles.loader}\r\n            type=\"ThreeDots\"\r\n            color=\"#3f51b5\"\r\n            height={45}\r\n            width={45}\r\n            timeout={6000}\r\n        />)\r\n};\r\n\r\nexport default Load;","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from 'axios';\nimport Searchbar from './Searchbar/Searchbar';\nimport Modal from './Modal/Modal'\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Load from './Loader/Loader';\nimport '../stylesheets/normalize.css';\nimport '../stylesheets/main.css';\nimport { ToastContainer } from \"react-toastify\";\n\nexport default function App() {\n  const [photos, setPhotos] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [largePhoto, setLargePhoto] = useState('');\n\n  const KEY = useRef('19150755-18ebc4fb910ab3d1add5e1d5a');\n  const URL = useRef('https://pixabay.com/api/');\n\n  useEffect(() => {\n    setLoading(true);\n    setPhotos([]);\n    //setLargePhoto('');\n    axios\n      .get(`${URL.current}?q=${searchQuery}&page=1&key=${KEY.current}&image_type=photo&orientation=horizontal&per_page=12`)\n      .then(response => response.data.hits).then(setPhotos)\n      .catch(error => setError(error))\n      .finally(() => setLoading(false));\n  }, [searchQuery]);\n\n  useEffect(() => {\n    setLoading(true);\n   // setLargePhoto('');\n    axios\n      .get(`${URL.current}?q=${searchQuery}&page=${page}&key=${KEY.current}&image_type=photo&orientation=horizontal&per_page=12`)\n      .then(response => {setPhotos(prevPhotos => [...prevPhotos, ...response.data.hits])})\n      .catch(error=> setError(error))\n      .finally(() => { (setLoading(false)); window.scrollTo({ top: document.documentElement.scrollHeight, behavior: 'smooth', }) });\n  }, [page]);\n  \n  const handleSearchSubmit = searchQuery => {\n    const normalizedSearchQuery = searchQuery.toLowerCase().trim();\n    setSearchQuery(normalizedSearchQuery);\n  };\n\n  const onButtonClick = e => {\n    e.preventDefault();\n    setPage(page + 1);\n  };\n   \n  const toggleModal = useCallback((photo) => {\n    setShowModal(prevShowModal => !prevShowModal);\n    setLargePhoto(photo);\n  }, []);\n\n  return (\n    <>\n      <Searchbar\n       onSubmit={handleSearchSubmit}\n      />\n      {error && <h1>Error, try again later</h1>}\n      \n      {showModal &&\n          <Modal onClose={toggleModal}>\n        <img src={largePhoto.largeImageURL} alt={largePhoto.tags}\n        />\n        </Modal>}\n      \n      {photos.length > 0 ?\n          <ImageGallery\n              photos={photos}\n        onClick={toggleModal}\n        >\n        </ImageGallery> : null}\n      \n      {loading &&\n          <Load \n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={45}\n          width={45}\n          timeout={6000}\n          />}\n      \n        {photos.length >= 11 ?\n          <Button\n            aria-label='Load more'\n          onClick={onButtonClick}\n        >\n          </Button> : null}\n\n        <ToastContainer autoClose={2000}/>\n    </>\n  )\n}\n\n/*class App extends Component {\n  state = {\n    photos: [],\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    loading: false,\n    key: '19150755-18ebc4fb910ab3d1add5e1d5a',\n    url: 'https://pixabay.com/api/',\n    error: null,\n    status: \"idle\",\n  };\n  \n  componentDidMount() {\n    this.setState({ loading: true });\n    axios\n      .get(`${this.state.url}?page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n      .then(response => this.setState({ photos: response.data.hits }))\n      .catch(error=> this.setState({error}))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const nextSearch = this.state.searchQuery;\n    const prevSearch = prevState.searchQuery;\n    const nextPage = this.state.page;\n    const prevPage = prevState.page;\n\n    if (nextSearch !== prevSearch) {\n      this.setState({ loading: true, photos: []});\n      \n      axios\n          .get(`${this.state.url}?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n          .then(response => this.setState({ photos: response.data.hits }\n          ))\n          .catch(error=> this.setState({error}))\n          .finally(() => this.setState({ loading: false }));\n      \n    }\n    if (nextPage !== prevPage) {\n      this.setState({ loading: true });\n\n        axios\n          .get(`${this.state.url}?q=${this.state.searchQuery}&page=${this.state.page}&key=${this.state.key}&image_type=photo&orientation=horizontal&per_page=12`)\n          .then(response => this.setState({ photos: [...prevState.photos, ...response.data.hits] }))\n          .catch(error=> this.setState({error}))\n          .finally(() => { this.setState({ loading: false }); window.scrollTo({ top: document.documentElement.scrollHeight, behavior: 'smooth', }) });\n    }\n  };\n\n  toggleModal = (largeImageURL) => {\n    this.setState(({ showModal }) => ({showModal: !showModal}));\n    this.setState({ largeImage: largeImageURL });\n  };\n\n  onButtonClick = e => {\n    e.preventDefault();\n    this.setState(\n      { page: this.state.page + 1 }\n    );\n  };\n\n  handleSearchSubmit = searchQuery => {\n    const normalizedSearchQuery = searchQuery.toLowerCase().trim();\n    this.setState({ searchQuery: normalizedSearchQuery });\n   };\n \n  render() {\n    const { photos, showModal, largeImage, tags, error } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSearchSubmit}/> \n        {error && <h1>Error, try again later</h1>}\n       \n        {photos.length > 0 ?\n          <ImageGallery\n              photos={photos}\n              onClick={this.toggleModal}>\n          </ImageGallery> : null}\n        \n        {showModal &&\n          <Modal onClose={this.toggleModal}>\n          <img src={largeImage} alt={tags}/>\n          </Modal>}\n\n        {this.state.loading &&\n          <Load \n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={45}\n          width={45}\n          timeout={6000}\n          />}\n      \n        {photos.length >= 11 ?\n          <Button\n            aria-label='Load more'\n            onClick={this.onButtonClick}>\n          </Button> : null}\n\n        <ToastContainer autoClose={2000}/>\n      </>\n    );\n  }\n}\n\nexport default App;*/","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}