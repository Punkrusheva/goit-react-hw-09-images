(this["webpackJsonpgoit-react-hw-09-images"]=this["webpackJsonpgoit-react-hw-09-images"]||[]).push([[0],{12:function(e,t,a){e.exports={overlay:"Modal_overlay__1FrEX",content:"Modal_content__3zfgL"}},13:function(e,t,a){e.exports={item:"ImageGalleryItem_item__1kmEh",image:"ImageGalleryItem_image__1gCRB"}},24:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1Oe8g"}},25:function(e,t,a){e.exports={button:"Button_button__2pNTu"}},27:function(e,t,a){e.exports={loader:"Loader_loader__2Cr1L"}},6:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2zZpz",searchForm:"Searchbar_searchForm__2nG4x",button:"Searchbar_button__30jDx",buttonLabel:"Searchbar_buttonLabel__HCbnY",input:"Searchbar_input__3Yka0"}},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),i=a(14),u=a(5),l=a(11),s=a.n(l),b=a(6),j=a.n(b),h=a(28),m=a(9),d=(a(52),a(1));function f(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(u.a)(a,2),r=c[0],o=c[1];return Object(d.jsx)("header",{className:j.a.searchbar,children:Object(d.jsxs)("form",{className:j.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==r?(t(r),o("")):m.b.error("Empty request")},children:[Object(d.jsx)("button",{type:"submit",className:j.a.button,children:Object(d.jsx)("span",{className:j.a.label,"aria-label":"Search",children:Object(d.jsx)(h.a,{})})}),Object(d.jsx)("input",{type:"text",name:"searchbar",autoComplete:"off",autoFocus:!0,onChange:function(e){return o(e.currentTarget.value.trim())},value:r,className:j.a.input,placeholder:"Search images and photos"})]})})}var O=a(12),p=a.n(O),g=document.querySelector("#modal-root");function _(e){var t=e.children,a=e.onClose;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return Object(r.createPortal)(Object(d.jsx)("div",{className:p.a.overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(d.jsx)("div",{className:p.a.content,children:t})}),g)}var x=a(24),v=a.n(x),y=a(13),C=a.n(y);function k(e){var t=e.photo,a=e.onClick;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("li",{className:C.a.item,onClick:a,children:Object(d.jsx)("img",{className:C.a.image,src:t.webformatURL,"data-source":t.largeImageURL,alt:t.tags})})})}k.defaultProps={largeImageURL:"",webformatURL:"",tags:"",id:""};var S=k;function w(e){var t=e.photos,a=e.onClick;return Object(d.jsx)("ul",{className:v.a.imageGallery,children:t.map((function(e){return Object(d.jsx)(S,{onClick:function(){return a(e)},photo:e},e.id)}))})}w.defaultProps={photos:[],children:""};var L=w,N=a(15),E=a(29),I=a(25),R=a.n(I),F=function(e){var t=e.children,a=e.onClick,n=Object(E.a)(e,["children","onClick"]);return Object(d.jsxs)("button",Object(N.a)(Object(N.a)({type:"button",className:R.a.button,onClick:a},n),{},{children:["Load more",t]}))};F.defaultProps={onClick:function(){return null},children:null};var G=F,T=a(26),z=a.n(T),D=a(27),U=a.n(D);var q=function(){return Object(d.jsx)(z.a,{className:U.a.loader,type:"ThreeDots",color:"#3f51b5",height:45,width:45,timeout:6e3})};a(75),a(76);function P(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(u.a)(r,2),l=o[0],b=o[1],j=Object(n.useState)(null),h=Object(u.a)(j,2),O=h[0],p=h[1],g=Object(n.useState)(!1),x=Object(u.a)(g,2),v=x[0],y=x[1],C=Object(n.useState)(1),k=Object(u.a)(C,2),S=k[0],w=k[1],N=Object(n.useState)(!1),E=Object(u.a)(N,2),I=E[0],R=E[1],F=Object(n.useState)(""),T=Object(u.a)(F,2),z=T[0],D=T[1],U=Object(n.useRef)("19150755-18ebc4fb910ab3d1add5e1d5a"),P=Object(n.useRef)("https://pixabay.com/api/");Object(n.useEffect)((function(){y(!0),c([]),s.a.get("".concat(P.current,"?q=").concat(l,"&page=1&key=").concat(U.current,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits})).then(c).catch((function(e){return p(e)})).finally((function(){return y(!1)}))}),[l]),Object(n.useEffect)((function(){y(!0),s.a.get("".concat(P.current,"?q=").concat(l,"&page=").concat(S,"&key=").concat(U.current,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.data.hits))}))})).catch((function(e){return p(e)})).finally((function(){y(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}),[S]);var B=Object(n.useCallback)((function(e){R((function(e){return!e})),D(e)}),[]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{onSubmit:function(e){var t=e.toLowerCase().trim();b(t)}}),O&&Object(d.jsx)("h1",{children:"Error, try again later"}),I&&Object(d.jsx)(_,{onClose:B,children:Object(d.jsx)("img",{src:z.largeImageURL,alt:z.tags})}),a.length>0?Object(d.jsx)(L,{photos:a,onClick:B}):null,v&&Object(d.jsx)(q,{type:"ThreeDots",color:"#3f51b5",height:45,width:45,timeout:6e3}),a.length>=11?Object(d.jsx)(G,{"aria-label":"Load more",onClick:function(e){e.preventDefault(),w(S+1)}}):null,Object(d.jsx)(m.a,{autoClose:2e3})]})}o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(P,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.bb413e2b.chunk.js.map